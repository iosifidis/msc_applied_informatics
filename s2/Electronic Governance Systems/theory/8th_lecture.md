# 🧠 **Advanced BPMN Elements**

---

### 🔹 **Γενική Εισαγωγή**
- Η πλήρης αξιοποίηση της συμβολικής γλώσσας BPMN (Business Process Model and Notation) μας επιτρέπει να αποτυπώνουμε την πολυπλοκότητα των σύγχρονων επιχειρησιακών διαδικασιών.
- Απαιτείται χρήση προηγμένων στοιχείων για να περιγράψουμε ρεαλιστικά και περίπλοκα σενάρια.
- Πολύ σημαντική έννοια: **“token” (σύμβολο ενεργής ροής)**.
  - Κάθε φορά που ενεργοποιείται μία διαδικασία (process), δημιουργείται ένα νέο token (π.χ. “Product_available = YES”).
  - Τα δεδομένα της διαδικασίας (process variables) δημιουργούνται και εξελίσσονται κατά την εκτέλεση της διαδικασίας.

---

### 🔹 **Τύποι Πύλης Ελέγχου: Event-Based Gateway**
- **Διαφορά με data-based gateways**:
  - Οι παραδοσιακές πύλες (exclusive, inclusive, parallel) βασίζονται στα δεδομένα της διαδικασίας.
  - Οι **event-based gateways** καθορίζουν τη ροή **βάσει γεγονότων που πρόκειται να συμβούν**.

#### ❗Σημαντικές Παρατηρήσεις:
1. Χρησιμοποιούνται **μόνο ως πύλες διαχωρισμού (SPLIT)**.
2. Μετά από αυτές μπορούν να ακολουθούν **μόνο γεγονότα** (message, timer, conditional, signal) ή **receive task**.
3. Όταν η διαδικασία φτάσει στην πύλη, περιμένει μέχρι να συμβεί **ένα μόνο** από τα επόμενα γεγονότα ➤ **εκτελείται μόνο μία εξερχόμενη διαδρομή**.

---

### 🔹 **Συγχώνευση Ροών μετά από Event-Based Gateway**
- **Μόνο μία ροή** μπορεί να ενεργοποιηθεί μετά από event-based gateway.
- **❌ Δεν χρησιμοποιούμε parallel join gateway** (AND) για να συγχωνεύσουμε – προκαλεί **deadlock** γιατί περιμένει tokens από όλες τις εισερχόμενες ροές.
- **✅ Χρησιμοποιούμε exclusive join gateway** (XOR), που περιμένει **μόνο ένα token**.

---

### 🔹 **Boundary Events (Οριακά Γεγονότα)**
- Τα boundary events τοποθετούνται **στην περίμετρο των tasks** (ή subprocesses) και χειρίζονται **εξαιρετικές περιπτώσεις** κατά την εκτέλεση ενός task.
- Δύο είδη:
  - **Interrupting**: Διακόπτουν την εκτέλεση του task.
  - **Non-Interrupting**: Δεν διακόπτουν το task – η παράλληλη διαχείριση συμβαίνει ανεξάρτητα.

#### 🧪 Παραδείγματα:
- Εάν ένας πελάτης στείλει **ακύρωση** παραγγελίας κατά τη διάρκεια του “Handle Order” ➤ **Interrupting**.
- Εάν στείλει **ερώτημα/διευκρίνιση** ➤ **Non-Interrupting**.

> ⚠️ Αν το task έχει ολοκληρωθεί, η εμφάνιση boundary event **αγνοείται**.

---

### 🔹 **Event-Based Subprocesses**
- Χρησιμοποιούνται για γεγονότα που μπορεί να συμβούν **σε οποιοδήποτε σημείο της διαδικασίας**, όχι μόνο όταν ένα task είναι ενεργό.
- Αναγνωρίζονται από το **πλαίσιο με διακεκομμένες γραμμές**.
- Μπορούν να είναι:
  - **Interrupting** ➤ Διακόπτουν τη κύρια διαδικασία.
  - **Non-Interrupting** ➤ Δεν τη διακόπτουν – λειτουργούν παράλληλα.

#### 🔁 Διαφορά από Boundary Events:
- Το scope τους είναι ευρύτερο.
- Ενεργοποιούνται όσο είναι ενεργή η κύρια διαδικασία, **όχι μόνο όσο διαρκεί το task**.

---

### 📌 **Κύρια Σημεία για Επανάληψη**
| Έννοια | Περιγραφή |
|--------|-----------|
| Token | Ενεργή ροή εκτέλεσης |
| Event-based Gateway | Διάσπαση ροής βάσει γεγονότων |
| Boundary Event | Αντιμετώπιση γεγονότων πάνω σε tasks |
| Event-based Subprocess | Παράλληλη διαχείριση γεγονότων σε οποιοδήποτε σημείο της διαδικασίας |
| Interrupting vs Non-Interrupting | Επηρεάζουν ή όχι την εκτέλεση της κύριας διαδικασίας |

