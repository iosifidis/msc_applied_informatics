# ΜΕΘΟΔΟΙ & ΕΡΓΑΛΕΙΑ ΤΝ (2ο εξάμηνο)  

## **Εργασία: 1**  

---

## Άσκηση 1: Client/Server Allocation

Σε ένα κατανεμημένο σύστημα από edge servers πρέπει να αποφασίσετε πώς θα κατανείμετε ένα σύνολο από υπηρεσίες οι οποίες απαιτούνται από τους πελάτες σας.

Η υπηρεσία που απαιτεί να εκτελέσει κάθε πελάτης έχει απαιτήσεις σε δικτυακούς πόρους (`ClientDemands`), οι οποίες εκφράζονται ως ένας ακέραιος (μονάδα πόρου) για κάθε υπηρεσία, και ανάλογα σε ποιον server θα εγκατασταθεί έχει και ένα διαφορετικό κόστος δικτύωσης (`NetworkingCost`). 

Κάθε εργασία μπορεί να ανατεθεί για εκτέλεση σε **έναν** server. Οι servers μπορούν να εκτελέσουν πολλές εργασίες ταυτόχρονα και έχουν συγκεκριμένη χωρητικότητα (`Capacity`), δηλαδή δεν μπορούν να εκτελέσουν ταυτόχρονα ένα σύνολο εργασιών όπου το άθροισμα των δικτυακών απαιτήσεων τους ξεπερνά τη χωρητικότητα του server.

Κάθε ενεργός server έχει ένα κόστος λειτουργίας (`DeploymentCost`).

### Δεδομένα του προβλήματος:

```minizinc
Servers = 4;
Clients = 6;
Capacity = [100, 40, 60, 60];
DeploymentCost = [860, 350, 440, 580];
ClientDemands = [12, 17, 5, 13, 20, 25];
NetworkingCost = [
  |27, 66, 44, 55
  |53, 89, 68, 46
  |17, 40, 18, 61
  |20, 68, 44, 78
  |42, 89, 65, 78
  |57, 55, 49, 31
];
```

Το **συνολικό κόστος** =  
🔸 άθροισμα του κόστους λειτουργίας των ενεργών servers  
🔸 + συνολικό κόστος δικτύωσης (ανά εργασία: `ClientDemand * NetworkingCost` στον επιλεγμένο server).

#### Παράδειγμα εκτέλεσης (μη βέλτιστη λύση):

```minizinc
client_at = [1, 3, 1, 1, 2, 3];
total_cost = 6480;
```

---

## Άσκηση 2: FireTrucks

Σε έναν σταθμό ανεφοδιασμού πυροσβεστικών οχημάτων, υπάρχουν **3 κρουνοί** πλήρωσης νερού (50 kg/λεπτό). Κάθε όχημα:

1. Γεμίζει με νερό
2. Ελέγχεται από **το μοναδικό κινητό συνεργείο**

### Παράμετροι:

```minizinc
no_firetrucks = 6;
water_cap = [1200, 900, 1500, 800, 1300, 600];  // Χωρητικότητα σε kg
service_time = [15, 10, 20, 10, 5, 20];         // Χρόνος συνεργείου (σε λεπτά)
```

Να υπολογίσετε:

- `start_fill`: πότε ξεκινά ο ανεφοδιασμός κάθε οχήματος
- `start_service`: πότε ξεκινά ο έλεγχος από το συνεργείο
- `total_service`: συνολικός χρόνος συνεργείου (χωρίς κενά)
- `makespan`: συνολικός χρόνος εκτέλεσης του χρονοπρογράμματος (να ελαχιστοποιηθεί)

#### Παράδειγμα εκτέλεσης (μη βέλτιστη λύση):

```minizinc
start_fill = [12, 0, 0, 18, 30, 0];
start_service = [70, 18, 30, 85, 95, 50];
total_service = 82;
makespan = 100;
```

📌 Το πρόγραμμα ξεκινά από χρονική στιγμή `0` και **ολοκληρώνεται το πολύ σε 1000 λεπτά**.

---

## Σημειώσεις

- Τα απαραίτητα αρχεία βρίσκονται στο ECLASS (Έγγραφα → Constraints → Assignments)

  - **Άσκηση 1**: φάκελος `ServerLocationProblem`, αρχείο `serverAllocProject.mzp`
  - **Άσκηση 2**: φάκελος `FireTrucks`, αρχείο `FireTrucksProject.mzp`

🚨 **ΠΡΟΣΟΧΗ**:  
- Ακολουθήστε **ΑΥΣΤΗΡΑ** τα ονόματα μεταβλητών που δίνονται (αυτόματος έλεγχος).
- **ΜΗΝ** αλλάζετε τα ονόματα μεταβλητών ή τη γραμμή `output`.

---

## ΠΑΡΑΔΟΣΗ

Υποβάλετε **ένα αρχείο .zip** το οποίο περιέχει:

1. Όλα τα παραπάνω αρχεία στη σωστή δομή φακέλων
2. `report.pdf` (στον αρχικό φάκελο) με:
   - Ονοματεπώνυμο, ΑΜ, email (στην 1η σελίδα)
   - Για κάθε άσκηση:
     - Κώδικας με σχολιασμό
     - Παραδείγματα εκτέλεσης (1-2)
     - Bugs / προβλήματα

---

**Καλή επιτυχία!**

