# Τεκμηρίωση κώδικα FirstAPICall

## 1. Εκκίνηση του προγράμματος (MainClass)  

Η `main()` μέθοδος είναι το σημείο εκκίνησης της εφαρμογής. Σε αυτήν:

- Ορίζεται το url που θα καλέσουμε (https://reqres.in/api/users/2).   
- Δημιουργείται ένα αντικείμενο HttpHandler για να χειριστεί την HTTP αίτηση και την απόκρισή της.   
- Γίνεται προσπάθεια να ανακτηθεί και να επεξεργαστεί η απόκριση μέσα σε ένα try-catch μπλοκ για διαχείριση πιθανών εξαιρέσεων.   

Γιατί:

- Η χρήση εξωτερικών APIs απαιτεί σωστή διαχείριση λαθών (π.χ. μη διαθέσιμο server, σφάλματα δικτύου).   
- Το URL μπορεί να επιστρέψει JSON δεδομένα που πρέπει να αναλυθούν περαιτέρω.  

## 2. Κλήση του URL (HttpHandler#getResponse)

Η μέθοδος `getResponse()` αναλαμβάνει να στείλει ένα HTTP GET αίτημα στο URL και να επιστρέψει το `body` της απόκρισης ως `String`.

Λεπτομέρειες:

- `Unirest.setTimeouts(0, 0);`:   
 - Καθορίζεται ότι το αίτημα δεν θα έχει χρονικό όριο (infinite timeout).   
- `HttpResponse<String> response = Unirest.get(url).asString();`:   
 - Γίνεται GET αίτημα στη διεύθυνση url.   
 - Το αποτέλεσμα επιστρέφεται ως αντικείμενο HttpResponse με τύπο δεδομένων String.   

- `response.getBody()`:   
 - Λαμβάνει μόνο το σώμα (body) της απόκρισης, δηλαδή τα δεδομένα JSON που επιστρέφει το API.  

Γιατί:

- Η μέθοδος αυτή δημιουργεί ένα σημείο που απομονώνει τον χειρισμό της HTTP αίτησης, επιτρέποντας επαναχρησιμοποίηση του κώδικα σε άλλα μέρη της εφαρμογής.

## 3. Επεξεργασία του JSON (JSONObject)

Η επεξεργασία γίνεται μέσα στη `main()`:

- Δημιουργείται ένα αντικείμενο `JSONObject` χρησιμοποιώντας τη συμβολοσειρά που επιστρέφει η `getResponse`.
- Από το JSON αυτό, εξάγεται το αντικείμενο με το κλειδί `"data"`.
- Από το αντικείμενο `"data"` λαμβάνονται τα πεδία `first_name` και `last_name`.
- Αυτά συνδυάζονται σε μία συμβολοσειρά (`fullname`), η οποία εμφανίζεται.
- Παράδειγμα JSON απόκρισης:

```
{
  "data": {
    "id": 2,
    "email": "janet.weaver@reqres.in",
    "first_name": "Janet",
    "last_name": "Weaver",
    "avatar": "https://reqres.in/img/faces/2-image.jpg"
  },
  "support": {
    "url": "https://reqres.in/#support-heading",
    "text": "To keep ReqRes free, contributions towards server costs are appreciated!"
  }
}
```
Σχετικός κώδικας:

```
String fullname = json.getJSONObject("data").getString("first_name") 
                      + " " +
                      json.getJSONObject("data").getString("last_name");

```

Γιατί:

- Το JSON είναι συχνή μορφή ανταλλαγής δεδομένων. Η χρήση της βιβλιοθήκης `org.json` απλοποιεί την πρόσβαση στα δεδομένα.   
- Η μέθοδος `getJSONObject` βοηθά στην αναδρομή σε εσωτερικά αντικείμενα.   
- Η μέθοδος `getString` εξάγει εύκολα τις τιμές από συγκεκριμένα κλειδιά.

## 4. Εκτύπωση αποτελέσματος

Μετά την επεξεργασία, το πλήρες όνομα εμφανίζεται στο τερματικό:

```
System.out.println("Parsed Name: " + fullname);
```

Αν το JSON ήταν το παραπάνω, η έξοδος θα ήταν:

```
Parsed Name: Janet Weaver
```

Γιατί:

- Παρέχει ένα ξεκάθαρο αποτέλεσμα της επεξεργασίας των δεδομένων και επιβεβαιώνει ότι η λογική του κώδικα είναι σωστή.

## 5. Χειρισμός Εξαιρέσεων

Όλες οι πιθανές εξαιρέσεις (π.χ. αποτυχία κλήσης API, μη έγκυρο JSON) καταγράφονται στο `catch` μπλοκ:

```
catch (Exception e) {
    e.printStackTrace();
}
```

Γιατί:

- Βοηθά στην ανάλυση σφαλμάτων κατά την εκτέλεση του προγράμματος.   
- Είναι απαραίτητη πρακτική όταν δουλεύουμε με εξωτερικές υπηρεσίες.   

## Τι κερδίζεις από αυτόν τον κώδικα:

1. Διαχωρισμός Ευθυνών:

 - Η `HttpHandler` ασχολείται μόνο με την κλήση του API.   
 - Η `MainClass` ασχολείται με την επεξεργασία και παρουσίαση των δεδομένων.   

2. Επαναχρησιμοποίηση:

- Μπορείς να καλέσεις τη μέθοδο `getResponse` με οποιοδήποτε URL.

3. Ευκολία Επεξεργασίας JSON:

 - Η χρήση της βιβλιοθήκης `org.json` κάνει τον χειρισμό του JSON απλό και ευανάγνωστο.

4. Ευελιξία:

 - Ο κώδικας μπορεί εύκολα να επεκταθεί για να δουλέψει με άλλα API.

