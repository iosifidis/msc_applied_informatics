### **Σημειώσεις για το Μάθημα "Συστήματα Ροών"**

---

### **1. Τι είναι τα Συστήματα Ροών;**
- Συστήματα επεξεργασίας ροών (DSMS - Data Stream Management Systems) επεξεργάζονται δεδομένα σε **πραγματικό χρόνο**.
- Τα ερωτήματα εκτελούνται **συνεχώς**, μέχρι να σταματήσουν ρητά.
- Τα δεδομένα **δεν αποθηκεύονται** πριν από την επεξεργασία, αλλά παράγουν αποτελέσματα καθώς φτάνουν.

### **2. Μοντέλα Επεξεργασίας Ροών**
- **Stream-Dataflow**: Αντιμετώπιση δεδομένων ως **ροή γεγονότων** με συνεχείς μετασχηματισμούς.
- **Μικροπαρτίδες**: Μετατροπή ροών δεδομένων σε **παρτίδες** για επεξεργασία.

### **3. Εγγυήσεις Παράδοσης Μηνυμάτων**
- **Το πολύ μία φορά**: Υψηλή απόδοση, αλλά **μπορεί να χαθούν δεδομένα**.
- **Τουλάχιστον μία φορά**: Εξασφαλίζεται ότι τα μηνύματα **δεν χάνονται**, αλλά μπορεί να υπάρχουν **διπλές εγγραφές**.
- **Ακριβώς μία φορά**: Καλύτερη **ακρίβεια**, αλλά απαιτεί **περισσότερους πόρους**.

### **4. Δημοφιλή Συστήματα Επεξεργασίας Ροών**
#### **Apache Flink**
- Χρησιμοποιεί **DataStreams** για επεξεργασία δεδομένων.
- **Χαμηλή καθυστέρηση**, κατάλληλο για μεγάλες κλίμακες.
- Εγγυάται **παράδοση ακριβώς μία φορά**.

#### **Apache Samza**
- Χρησιμοποιεί **Kafka** και **YARN** για αποθήκευση και επεξεργασία ροών.
- Εγγυάται **τουλάχιστον μία φορά** παράδοση.
- Διατηρεί κατάσταση στο δίσκο για μεγαλύτερη αξιοπιστία.

#### **Apache Storm**
- Υποστηρίζει **χαμηλή καθυστέρηση (<1 sec)**.
- Παρέχει **τουλάχιστον μία φορά** εγγύηση παράδοσης.
- Δομή εφαρμογών με **Spouts** (πηγές δεδομένων) και **Bolts** (επεξεργαστές).

#### **Apache Spark Structured Streaming**
- Χρησιμοποιεί **DataFrames** και το **SQL API** για εύκολη διαχείριση.
- Υποστηρίζει **παράδοση ακριβώς μία φορά**.
- Υψηλό **throughput**, αλλά μεγαλύτερη καθυστέρηση σε σχέση με άλλα συστήματα.

### **5. Σύγκριση Συστημάτων**
| Σύστημα | Μοντέλο Επεξεργασίας | Καθυστέρηση | Throughput | Εγγυήσεις |
|---------|----------------------|------------|-----------|-----------|
| **Storm** | Streaming | Υποδευτερολέπτου | Χαμηλό | Τουλάχιστον μία φορά |
| **Spark Structured Streaming** | Micro-Batch | 100ms - sec | Υψηλό | Ακριβώς μία φορά |
| **Samza** | Streaming | Υποδευτερολέπτου | Υψηλό | Τουλάχιστον μία φορά |
| **Flink** | Hybrid | Υποδευτερολέπτου | Υψηλό | Ακριβώς μία φορά |

### **6. Προγραμματιστικό Μοντέλο στο Spark Structured Streaming**
- Τα δεδομένα αντιμετωπίζονται ως **ζωντανός πίνακας** που ενημερώνεται συνεχώς.
- **Είσοδοι**:
  - **Αρχεία (CSV, JSON, Parquet)**
  - **Kafka**
  - **Socket (για δοκιμές)**
  - **Rate (τυχαία δεδομένα για testing)**
- **Έξοδοι (Sinks)**:
  - **Κονσόλα**
  - **Αρχεία (JSON, CSV, Parquet)**
  - **Kafka**
  - **Foreach (προσαρμοσμένη έξοδος)**

### **7. Λειτουργίες Εξόδου στο Spark**
- **Complete Mode**: Ολόκληρος ο πίνακας αποθηκεύεται.
- **Append Mode**: Αποθηκεύονται **μόνο νέες εγγραφές**.
- **Update Mode**: Αποθηκεύονται **μόνο οι ενημερωμένες εγγραφές**.

---

## Εντολές

Αυτές είναι οι [εντολές](commands.md) του μαθήματος.
