# Αναλυτικές Σημειώσεις για το Hadoop MapReduce

---

## Τι Είναι το Hadoop MapReduce
Το **Hadoop MapReduce** είναι ένα προγραμματιστικό μοντέλο και πλαίσιο που χρησιμοποιείται για την επεξεργασία μεγάλων δεδομένων σε κατανεμημένα συστήματα. Χωρίζεται σε δύο φάσεις:  
1. **Map**: Μετατρέπει τα δεδομένα εισόδου σε ζεύγη κλειδιού-τιμής.  
2. **Reduce**: Συνδυάζει τα ζεύγη με το ίδιο κλειδί για παραγωγή της τελικής εξόδου.

Το Hadoop περιλαμβάνει τρία βασικά στοιχεία:
1. **HDFS**: Αποθήκευση δεδομένων σε κατανεμημένο σύστημα αρχείων.  
2. **YARN**: Διαχείριση πόρων και προγραμματισμός εργασιών.  
3. **MapReduce Engine**: Εκτέλεση του MapReduce.

---

## Χαρακτηριστικά και Δυνατότητες Hadoop 3.0
1. **Υποστήριξη Erasure Coding**: Βελτίωση χώρου αποθήκευσης στο HDFS.  
2. **Περισσότερα Standby NameNodes**: Υποστήριξη περισσότερων από 2.  
3. **Υποστήριξη GPUs**: Δυνατότητα χρήσης GPU για ταχύτερη επεξεργασία.  
4. **Κλιμάκωση**: Υποστήριξη άνω των 10.000 κόμβων.  
5. **Βελτιώσεις Απόδοσης**: Πολλαπλές βελτιστοποιήσεις για αποδοτικότητα.

---

## Πλεονεκτήματα του MapReduce
1. **Κλιμάκωση**: Επεξεργασία δεδομένων σε μεγάλα clusters.  
2. **Αντοχή σε Αστοχίες**: Αυτόματη ανάκτηση δεδομένων σε περίπτωση προβλήματος.  
3. **Απλότητα Προγραμματισμού**: Οι προγραμματιστές επικεντρώνονται στη λογική του Map και Reduce.  
4. **Παραλληλισμός**: Εκτέλεση σε πολλούς κόμβους ταυτόχρονα.

---

## Ενδεικτική Λειτουργία: Natural Join
Το **Natural Join** είναι μία κοινή λειτουργία στις βάσεις δεδομένων, όπου πλειάδες από δύο πίνακες ενώνονται με βάση κοινά χαρακτηριστικά.

### Παράδειγμα:
- **Σχέσεις**:  
  R(A, B) και S(B, C).  
  - Τα δεδομένα ενώνονται στο πεδίο `B`.

### Βήματα:
1. **Map**:  
   - Για κάθε πλειάδα του R, παράγει ζεύγος `(b, (R, a))`.  
   - Για κάθε πλειάδα του S, παράγει ζεύγος `(b, (S, c))`.

2. **Reduce**:  
   - Ενώνει πλειάδες με το ίδιο κλειδί `b`.  
   - Παράγει νέες πλειάδες `(a, b, c)`.

---

## Τεχνικές για Έλεγχο Εκτέλεσης
1. **Setup/Cleanup**: Εκτέλεση κώδικα αρχικοποίησης ή καθαρισμού.  
2. **Σειρά Ταξινόμησης**: Έλεγχος της σειράς ταξινόμησης των ενδιάμεσων κλειδιών.  
3. **Partitioners**: Καθορίζουν ποια κλειδιά θα επεξεργαστεί κάθε Reducer.  
4. **Speculative Execution**:  
   - Αντιμετώπιση αργών κόμβων.  
   - Παράλληλη εκτέλεση ίδιων εργασιών σε πολλούς κόμβους για επιτάχυνση.

---

## Περιορισμοί
1. Περιορισμένος έλεγχος στους κόμβους εκτέλεσης διεργασιών Map ή Reduce.  
2. Απώλεια ευελιξίας στον καθορισμό του πού και πότε εκτελούνται οι διεργασίες.  
3. Αυτόματη ανάθεση ζευγών κλειδιού-τιμής στους κόμβους από το πλαίσιο Hadoop.

---

## Καλές Πρακτικές
1. **Χρήση Combiners**: Μείωση όγκου δεδομένων μεταξύ Map και Reduce.  
2. **Αποτελεσματική Χρήση Partitioners**: Εξισορρόπηση φόρτου μεταξύ των Reducers.  
3. **Σχεδιασμός Κατανεμημένων Αλγορίθμων**: Εκμετάλλευση παραλληλισμού για απόδοση.

---

## Εφαρμογές του Hadoop MapReduce
1. **Ανάλυση Αρχείων Καταγραφής**: Εντοπισμός συχνότητας εμφάνισης διευθύνσεων IP.  
2. **Επεξεργασία Μεγάλων Συνόλων Δεδομένων**: Αναζήτηση, ταξινόμηση, ανάλυση.  
3. **Ενώσεις Δεδομένων**: Π.χ., εφαρμογή Natural Join σε μεγάλα σύνολα δεδομένων.  
4. **Υπολογισμοί Στατιστικών**: Μέσοι όροι, κατανομές, ταξινομήσεις.

---

## Παραδείγματα Εντολών Hadoop MapReduce
1. **Μεταγλώττιση Java Κώδικα**:  
```
hadoop com.sun.tools.javac.Main Program.java
jar cf program.jar Program*.class
```

2. **Εκτέλεση Εφαρμογής**:   

```
hadoop jar program.jar Program input output
```

3. **Εκτέλεση Python Κώδικα (Streaming):**

```
hadoop jar hadoop-streaming-*.jar \
-files map.py,reduce.py \
-mapper map.py -reducer reduce.py \
-input input -output output
```
