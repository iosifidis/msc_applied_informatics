# Κατανεμημένα Συστήματα Αρχείων

## 1. Ορισμός Κατανεμημένων Συστημάτων Αρχείων
- **Κατανεμημένα Συστήματα Αρχείων:** Επιτρέπουν την αποθήκευση και ανάκτηση αρχείων από πολλές υπολογιστικές μηχανές.
- **Διευκόλυνση Χρήστη:** Ο χρήστης δεν χρειάζεται να γνωρίζει τη φυσική τοποθεσία ή τον τρόπο αποθήκευσης.
- **Μεγάλα Αρχεία:** Υποστηρίζουν αποθήκευση αρχείων μεγαλύτερων από τον μεμονωμένο δίσκο ενός κόμβου.

---

## 2. Βασικά Χαρακτηριστικά

### Αποθήκευση σε μπλοκ (blocks):
- Τα δεδομένα χωρίζονται σε μεγάλα μπλοκ (π.χ., 128MB στο HDFS).
- Τα μπλοκ αντιγράφονται (Replication Factor) για ανοχή σε σφάλματα.
  - **Συνήθης τιμή:** 3 αντίγραφα.

### Ανοχή σε σφάλματα:
- Αντίγραφα μπλοκ αποθηκεύονται σε διαφορετικούς κόμβους.
- Ομαλή ανάκτηση από αποτυχία δίσκου ή μηχανής.

### Πρόσβαση ροής:
- **Μοτίβο εγγραφής:** Μία φορά.
- **Μοτίβο ανάγνωσης:** Πολλές φορές.

### Υψηλή απόδοση και επεκτασιμότητα:
- Σχεδιασμένα για μεγάλα clusters με παράλληλη επεξεργασία δεδομένων.

---

## 3. Το Σύστημα HDFS (Hadoop Distributed File System)

### Συστατικά:
- **NameNode (Master):**
  - Αποθηκεύει μεταδεδομένα για τα μπλοκ δεδομένων και τις τοποθεσίες τους.
- **DataNodes (Workers):**
  - Αποθηκεύουν μπλοκ δεδομένων.
  - Ανταποκρίνονται σε αιτήματα για ανάγνωση/εγγραφή.
- **Secondary NameNode:**
  - Συγχωνεύει αλλαγές και δημιουργεί αντίγραφα ασφαλείας των δεδομένων του NameNode.

### Λειτουργία:
- Τα δεδομένα διαμοιράζονται σε μπλοκ και αποθηκεύονται σε διαφορετικούς κόμβους.
- Τα μπλοκ αναπαράγονται για ανοχή σε σφάλματα.

### Οφέλη:
- Κατάλληλο για μεγάλα αρχεία.
- Υποστηρίζει χαμηλού κόστους εξοπλισμό.
- Αξιόπιστη διαχείριση μεγάλων όγκων δεδομένων.

---

## 4. Χρήση HDFS

### Εντολές Διαχείρισης:
- **Προβολή καταλόγων:** `hdfs dfs -ls`
- **Ελεύθερος χώρος:** `hdfs dfs -df -h`
- **Αντιγραφή δεδομένων:**   
  - Από τοπικό σύστημα στο HDFS: `hdfs dfs -put προέλευση προορισμός`   
  - Από HDFS στο τοπικό σύστημα: `hdfs dfs -get προέλευση προορισμός`   
- **Βασικές πληροφορίες και στατιστικά του HDFS**: `hadoop/bin/hdfs dfsadmin -report`   
- **Ρυθμίσεις ασφαλείας NameNode:** `hadoop/bin/hdfs dfsadmin -safemode [εντολή]`   
  - H εντολή μπορεί να είναι enter, leave, forceExit   
- **Έναρξη HDFS**: `start-dfs`   
- **Tερματισμός HDFS**: `stop-dfs`


### WebHDFS:
- **Πρόσβαση μέσω REST API:**
  - Δημιουργία καταλόγου:
    ```bash
    curl -i -X PUT "http://localhost:9870/webhdfs/v1/user/bigdata/testme/?op=MKDIRS"
    ```
  - Λίστα καταλόγου:
    ```bash
    curl -i -X GET "http://localhost:9870/webhdfs/v1/user/bigdata/?op=LISTSTATUS"
    ```

---

## 5. Σχεδιαστικές Αρχές HDFS

### Μεγάλα μπλοκ:
- Ελαχιστοποιούν τις λειτουργίες αναζήτησης.
- Αυξάνουν την απόδοση.

### Ενεργός και Αναμένον NameNode:
- Αποτροπή αποτυχίας συστήματος μέσω αντιγράφων ασφαλείας και υψηλής διαθεσιμότητας.

### Ομοσπονδία HDFS:
- Επιτρέπει την ύπαρξη πολλαπλών NameNodes για βελτίωση επεκτασιμότητας.
